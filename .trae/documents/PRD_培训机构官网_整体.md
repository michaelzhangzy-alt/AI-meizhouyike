# PRD｜培训机构官网（整体：阶段1 + 阶段2）

## 1. 背景与目标

本项目为「公开课引流 + 内容沉淀 + 后台运营提效」的一体化官网。

### 1.1 业务目标
- 通过公开课/师资展示降低用户决策成本
- 用极简留资表单获取高质量线索
- 用课程与资讯内容持续获取自然流量（SEO）与复访
- 通过后台工具降低运营发布与销售跟进成本

### 1.2 成功指标（可量化）
- 留资转化：报名弹窗打开率、提交成功率、每周新增线索数
- 内容增长：每周发布课程/资讯数量、资讯阅读量（views）、文章复访率
- 运营效率：线索导出耗时、内容发布耗时、页面更新是否“无需改代码”

## 2. 用户与场景

### 2.1 用户角色
- **访客（在校学生）**：浏览公开课/师资/资讯；完成报名留资；转发分享
- **运营/教务**：维护课程、资讯、讲师、站点文案；配置微信分享
- **销售/顾问**：查看线索、导出 Excel、跟进转化

### 2.2 关键场景
1. 学生通过朋友圈/群聊/搜索进入首页 → 了解本周公开课 → 弹窗报名
2. 学生通过资讯列表阅读干货 → 查看详情 → 产生信任 → 预约/报名
3. 运营在后台发布新课程/新文章 → 配置分享卡片 → 引导传播
4. 销售在后台筛选并导出线索 → 跟进转化

## 3. 范围与阶段划分

### 3.1 阶段1（MVP）范围
- 首页展示（公开课/师资）
- 报名弹窗留资（姓名、手机号、微信号可选）
- 关于我们（基础介绍 + 联系方式）

### 3.2 阶段2（运营提效）范围
- 后台登录与管理台布局
- 报名管理（查看/搜索/导出）
- 课程管理（新增/编辑/发布/下架 + 封面上传）
- 资讯管理（富文本编辑 + 封面上传 + SEO 字段 + 发布/草稿）
- 微信分享配置（按页面路径配置 + 图片上传 + 使用指引）
- 师资管理（讲师 CRUD + 头像裁剪 + 首页展示）
- 站点内容配置（关于我们文案、会员权益列表动态维护）
- 前台资讯展示（列表/详情、上一篇/下一篇、侧栏推荐、阅读体验优化）
- 课程列表与详情页（展示往期课程回放与详情）
- 会员管理（付费名单导入、群二维码配置）

## 4. 功能需求（整体）

### 4.1 前台功能
#### 4.1.1 首页（`/`）
- 本周公开课：展示“主推课程 + 近期预告”
- 师资力量：展示讲师列表
- 报名入口：多处触发弹窗，统一留资

#### 4.1.2 往期课程（`/courses`、`/courses/:id`）
- **列表页**：
  - 展示所有“已发布”的课程（卡片式布局）
  - 封面图、标题、讲师、时间、状态（直播/回放）
  - 支持按时间倒序排列
- **详情页**：
  - 课程头图、核心信息（时间/地点/讲师）
  - 课程亮点（自动提取或手动配置）
  - 富文本详细介绍
  - 侧栏：讲师介绍、社群引流入口
  - 底部：报名/回放按钮（触发弹窗）
- **本周直播（`/weekly-class`）**：
  - 自动跳转到最近一期未开始的课程详情页，或展示“本周暂无”提示

#### 4.1.3 AI 资讯（`/news`、`/news/:id`）
- 列表：展示已发布文章（标题/摘要/封面/时间）
- 详情：富文本正文渲染、图片展示、上一篇/下一篇、侧栏推荐
- 阅读量：进入详情页时更新 `views`

#### 4.1.3 关于我们（`/about`）
- 文案与会员权益来自后台配置
- 发展历程时间轴（增强信任感与品牌背书）
- 联系方式固定展示（可后续也做成可配置）

### 4.2 后台功能（`/admin/*`）
#### 4.2.1 登录
- 邮箱/密码登录
- 未验证邮箱提示 + 一键重发验证邮件

#### 4.2.2 仪表盘
- 核心指标：本周线索、已发布课程、资讯文章数
- 最近线索列表

#### 4.2.3 报名管理
- 列表查看、搜索
- Excel 导出

#### 4.2.4 课程管理
- 新增/编辑/发布/下架
- 封面图片本地上传
- 课程内容富文本编辑（图片上传）

#### 4.2.5 资讯管理
- 新增/编辑/发布/草稿
- 封面图片：本地上传 / 从正文图片中选择
- 正文富文本：支持表格、图片、字体/背景色；提供“一键排版”
- SEO 字段维护

#### 4.2.6 微信分享配置
- 按页面路径配置分享标题/描述/图片
- 支持本地上传分享图
- 后台提供“使用说明”与最佳实践提示

#### 4.2.7 师资管理
- 讲师增删改
- 头像上传与裁剪
- 展示顺序

#### 4.2.8 站点内容
- 关于我们文案（富文本）
- 会员权益（列表结构）

#### 4.2.9 会员与社群管理
- **付费会员管理**：
  - 列表展示（手机号、姓名、导入批次）
  - Excel/CSV 批量导入（支持自动识别手机号列）
  - 用于后续鉴权或权益发放
- **微信群二维码管理**：
  - 上传群二维码图片
  - 设置标题、备注、启用状态
  - 确保同一时间只有一个“当前启用”的二维码（前台展示用）

## 5. 非功能需求

### 5.1 体验
- PC/移动端均可访问前台
- 后台以桌面端为主（基本可用即可）

### 5.2 安全与合规（建议上线前完成）
- 线索表（`leads`）建议禁止匿名 `SELECT`，仅允许后台登录后读取
- 前台写入建议走 Edge Function（便于限流、防刷、通知与审计）
- 图片存储桶仅开放必要的公开读取

### 5.3 已知限制
- 微信分享仅在正式域名生效，需公众号后台配置 JS 安全域名
- 飞书复制图片通常带鉴权，无法稳定“复制整段图文”导入；建议图片用截图粘贴/本地上传

## 6. 后续迭代建议（可选）
- 线索分配/跟进记录/标签体系
- 课程详情页与课程列表页（当前首页已支持公开课展示）
- 资讯的分类管理与专题页
- 分享数据统计（分享次数、打开次数）
- 管理员权限细分（多账号、角色权限）

